= ssm-heam
:doctype: book
:toc: left
:toclevels: 3
:toc-title: 目录
:source-highlighter: highlightjs

[%hardbreaks]
version:1.0

[%hardbreaks]
接口文档


== 运营端

=== addPortalCategory
请求
[source,HTTP ]
----
POST /admin/portal/add HTTP/1.1

categoryName=
----

[options="header"]
|===
|+名称+|+类型+|+校验+|+默认+|+描述+
|+categoryName+|+String+|||+分类名称+
|===

响应
[source,HTTP ]
----
HTTP/1.1 200 OK

{
  "code" : 0,
  "message" : "",
  "timestamp" : "",
  "action" : ""
}
----

[options="header"]
|===
|+名称+|+类型+|+校验+|+默认+|+描述+
|+code+|+Integer+||+0+|
|+message+|+String+|||
|+timestamp+|+String+|||
|+action+|+String+|||
|===


== 门户首页

=== listProductAttributes
请求
[source,HTTP ]
----
POST /attrs HTTP/1.1

----

响应
[source,HTTP ]
----
HTTP/1.1 200 OK

{
  "code" : 0,
  "message" : "",
  "content" : [ {
    "id" : "",
    "attributeName" : "",
    "categoryId" : "",
    "createTime" : "",
    "updateTime" : ""
  } ],
  "timestamp" : "",
  "action" : ""
}
----

[options="header"]
|===
|+名称+|+类型+|+校验+|+默认+|+描述+
|+code+|+Integer+||+0+|
|+message+|+String+|||
|+content+|+List+|||
|+content.[].id+|+String+|||
|+content.[].attributeName+|+String+|||
|+content.[].categoryId+|+String+|||
|+content.[].available+|+Boolean+|||
|+content.[].createTime+|+Date+|||
|+content.[].updateTime+|+Date+|||
|+timestamp+|+String+|||
|+action+|+String+|||
|===


=== homeProducts
请求
[source,HTTP ]
----
POST /products HTTP/1.1

categoryName=
----

[options="header"]
|===
|+名称+|+类型+|+校验+|+默认+|+描述+
|+categoryName+|+String+|||+分类名称(中文)+
|===

响应
[source,HTTP ]
----
HTTP/1.1 200 OK

{
  "code" : 0,
  "message" : "",
  "content" : {
    "categoryName" : "",
    "products" : [ {
      "name" : "",
      "usp" : "",
      "price" : 0,
      "productId" : "",
      "img" : ""
    } ]
  },
  "timestamp" : "",
  "action" : ""
}
----

[options="header"]
|===
|+名称+|+类型+|+校验+|+默认+|+描述+
|+code+|+Integer+||+0+|
|+message+|+String+|||
|+content+|+HomeProductResult+|||
|+content.categoryName+|+String+|||
|+content.products+|+List+|||
|+content.products.[].name+|+String+|||
|+content.products.[].usp+|+String+|||
|+content.products.[].price+|+BigDecimal+||+0+|
|+content.products.[].productId+|+String+|||
|+content.products.[].img+|+String+|||
|+timestamp+|+String+|||
|+action+|+String+|||
|===


=== commercials
请求
[source,HTTP ]
----
POST /commercial HTTP/1.1

----

响应
[source,HTTP ]
----
HTTP/1.1 200 OK

{
  "code" : 0,
  "message" : "",
  "content" : [ {
    "portalIndex" : 0,
    "info" : "",
    "imgUri" : "",
    "point" : ""
  } ],
  "timestamp" : "",
  "action" : ""
}
----

[options="header"]
|===
|+名称+|+类型+|+校验+|+默认+|+描述+
|+code+|+Integer+||+0+|
|+message+|+String+|||
|+content+|+List+|||
|+content.[].portalIndex+|+Integer+||+0+|
|+content.[].info+|+String+|||
|+content.[].imgUri+|+String+|||
|+content.[].point+|+String+|||
|+timestamp+|+String+|||
|+action+|+String+|||
|===


== 检索页

=== pageProduct
请求
[source,HTTP ]
----
POST /search/products HTTP/1.1

page=0&size=0
----

[options="header"]
|===
|+名称+|+类型+|+校验+|+默认+|+描述+
|+page+|+int+|+NotNull+|+0+|
|+size+|+int+|+NotNull+|+0+|
|===

响应
[source,HTTP ]
----
HTTP/1.1 200 OK

{
  "code" : 0,
  "message" : "",
  "content" : {
    "content" : [ ],
    "totalElements" : 0,
    "size" : 0,
    "page" : 0,
    "sort" : {
      "orderList" : "new ArrayList<>()"
    }
  },
  "timestamp" : "",
  "action" : ""
}
----

[options="header"]
|===
|+名称+|+类型+|+校验+|+默认+|+描述+
|+code+|+Integer+||+0+|
|+message+|+String+|||
|+content+|+Page+|||
|+content.content+|+List+|||
|+content.totalElements+|+long+||+0+|
|+content.size+|+int+||+0+|
|+content.page+|+int+||+0+|
|+content.sort+|+Sort+|||
|+content.sort.orderList+|+List+|+NotEmpty+||
|+content.sort.orderList.[].direction+|+Direction+|||
|+content.sort.orderList.[].property+|+String+|+NotBlank+||
|+timestamp+|+String+|||
|+action+|+String+|||
|===


=== listCategories
请求
[source,HTTP ]
----
POST /search/categories HTTP/1.1

----

响应
[source,HTTP ]
----
HTTP/1.1 200 OK

{
  "code" : 0,
  "message" : "",
  "content" : [ {
    "id" : "",
    "refCategoryId" : "",
    "portalIndex" : 0,
    "categoryName" : ""
  } ],
  "timestamp" : "",
  "action" : ""
}
----

[options="header"]
|===
|+名称+|+类型+|+校验+|+默认+|+描述+
|+code+|+Integer+||+0+|
|+message+|+String+|||
|+content+|+List+|||
|+content.[].id+|+String+|||
|+content.[].refCategoryId+|+String+|||
|+content.[].portalIndex+|+Integer+||+0+|
|+content.[].categoryName+|+String+|||
|+timestamp+|+String+|||
|+action+|+String+|||
|===


=== 显示指定分离绑定的属性列表
请求
[source,HTTP ]
----
POST /search/attrs HTTP/1.1

category=
----

[options="header"]
|===
|+名称+|+类型+|+校验+|+默认+|+描述+
|+category+|+String+|||+指分类名称(中文)或者分类ID+
|===

响应
[source,HTTP ]
----
HTTP/1.1 200 OK

{
  "code" : 0,
  "message" : "",
  "content" : [ {
    "id" : "",
    "attributeName" : "",
    "categoryId" : "",
    "createTime" : "",
    "updateTime" : ""
  } ],
  "timestamp" : "",
  "action" : ""
}
----

[options="header"]
|===
|+名称+|+类型+|+校验+|+默认+|+描述+
|+code+|+Integer+||+0+|
|+message+|+String+|||
|+content+|+List+|||
|+content.[].id+|+String+|||
|+content.[].attributeName+|+String+|||
|+content.[].categoryId+|+String+|||
|+content.[].available+|+Boolean+|||
|+content.[].createTime+|+Date+|||
|+content.[].updateTime+|+Date+|||
|+timestamp+|+String+|||
|+action+|+String+|||
|===


== UserController

=== userRegister
请求
[source,HTTP ]
----
POST /user/reg HTTP/1.1

username=&password=
----

[options="header"]
|===
|+名称+|+类型+|+校验+|+默认+|+描述+
|+username+|+String+|+NotEmpty+||
|+password+|+String+|+NotEmpty+||
|===

响应
[source,HTTP ]
----
HTTP/1.1 200 OK

{
  "code" : 0,
  "message" : "",
  "timestamp" : "",
  "action" : ""
}
----

[options="header"]
|===
|+名称+|+类型+|+校验+|+默认+|+描述+
|+code+|+Integer+||+0+|
|+message+|+String+|||
|+timestamp+|+String+|||
|+action+|+String+|||
|===


=== login
请求
[source,HTTP ]
----
POST /user/login HTTP/1.1
Content-Type: application/json

{
  "username" : "",
  "password" : ""
}
----

[options="header"]
|===
|+名称+|+类型+|+校验+|+默认+|+描述+
|+username+|+String+|+NotEmpty+||
|+password+|+String+|+NotEmpty+||
|===

响应
[source,HTTP ]
----
HTTP/1.1 200 OK

{
  "code" : 0,
  "message" : "",
  "timestamp" : "",
  "action" : ""
}
----

[options="header"]
|===
|+名称+|+类型+|+校验+|+默认+|+描述+
|+code+|+Integer+||+0+|
|+message+|+String+|||
|+timestamp+|+String+|||
|+action+|+String+|||
|===


=== getUserInfo
请求
[source,HTTP ]
----
POST /user/info HTTP/1.1

password=&nickname=&avatar=&userSex=&cellphoneNum=&userEmail=
----

[options="header"]
|===
|+名称+|+类型+|+校验+|+默认+|+描述+
|+password+|+String+|||
|+nickname+|+String+|||
|+avatar+|+String+|||
|+userSex+|+String+|||
|+cellphoneNum+|+String+|||
|+userEmail+|+String+|||
|===

响应
[source,HTTP ]
----
HTTP/1.1 200 OK

{
  "code" : 0,
  "message" : "",
  "content" : {
    "id" : "",
    "username" : "",
    "password" : "",
    "nickname" : "",
    "avatar" : {
      "id" : "",
      "uri" : ""
    },
    "userSex" : "",
    "cellphoneNum" : "",
    "userEmail" : ""
  },
  "timestamp" : "",
  "action" : ""
}
----

[options="header"]
|===
|+名称+|+类型+|+校验+|+默认+|+描述+
|+code+|+Integer+||+0+|
|+message+|+String+|||
|+content+|+UserInfoResult+|||
|+content.id+|+String+|||
|+content.username+|+String+|||
|+content.password+|+String+|||
|+content.nickname+|+String+|||
|+content.avatar+|+ResourceUriResult+|||
|+content.avatar.id+|+String+|||
|+content.avatar.uri+|+String+|||
|+content.userSex+|+String+|||
|+content.cellphoneNum+|+String+|||
|+content.userEmail+|+String+|||
|+timestamp+|+String+|||
|+action+|+String+|||
|===

